# 操作系统建议



### CEPH依赖

通常，我们建议在较新版本的Linux上部署Ceph。我们还建议在具有长期支持的版本上进行部署。

#### LINUX内核

* **Ceph内核客户端**

  如果您使用内核客户端映射RBD块设备或挂载CephFS，则一般建议是使用[http://kernel.org](http://kernel.org/)或您的Linux发行版在任何客户端上提供的“稳定”或“长期维护”内核系列。主机。

  对于RBD，如果您选择_跟踪_长期内核，我们目前建议使用基于4.x的“长期维护”内核系列：

  * 4.14.z
  * 4.9.z

  对于CephFS，请参阅[CephFS最佳做法](https://docs.ceph.com/docs/nautilus/cephfs/best-practices)以获取内核版本指导。

  较旧的内核客户端版本可能不支持您的[CRUSH可调参数](https://docs.ceph.com/docs/nautilus/rados/operations/crush-map#tunables)配置文件或Ceph群集的其他较新功能，因此需要在禁用这些功能的情况下配置存储群集。

### 平台

下图显示了Ceph的要求如何映射到各种Linux平台上。一般而言，除了内核和系统初始化程序包（即sysvinit，upstart，systemd）以外，对特定发行版的依赖性很小。

#### LUMINOUS（12.2.Z）

| 发行版 | 释放 | 代码名称 | 核心 | 笔记 | 测试中 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| CentOS的 | 7 | 不适用 | linux-3.10.0 | 3 | B，我，C |
| 德比安 | 8.0 | 杰西 | linux-3.16.0 | 一二 | B，我 |
| 德比安 | 9.0 | 伸展 | linux-4.9 | 一二 | B，我 |
| 软呢帽 | 22 | 不适用 | linux-3.14.0 |  | B，我 |
| RHEL | 7 | 迈坡 | linux-3.10.0 |  | B，我 |
| 的Ubuntu | 14.04 | 可信赖的塔尔 | linux-3.13.0 |  | B，我，C |
| 的Ubuntu | 16.04 | Xenial Xerus | linux-4.4.0 | 3 | B，我，C |

#### JEWEL（10.2.Z）

| 发行版 | 释放 | 代码名称 | 核心 | 笔记 | 测试中 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| CentOS的 | 7 | 不适用 | linux-3.10.0 | 3 | B，我，C |
| 德比安 | 8.0 | 杰西 | linux-3.16.0 | 一二 | B，我 |
| 软呢帽 | 22 | 不适用 | linux-3.14.0 |  | B，我 |
| RHEL | 7 | 迈坡 | linux-3.10.0 |  | B，我 |
| 的Ubuntu | 14.04 | 可信赖的塔尔 | linux-3.13.0 |  | B，我，C |

#### HAMMER（0.94.Z）

| 发行版 | 释放 | 代码名称 | 核心 | 笔记 | 测试中 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| CentOS的 | 6 | 不适用 | linux-2.6.32 | 一二 |  |
| CentOS的 | 7 | 不适用 | linux-3.10.0 |  | B，我，C |
| 德比安 | 7.0 | ee | linux-3.2.0 | 一二 |  |
| 的Ubuntu | 12.04 | 精确的穿山甲 | linux-3.2.0 | 一二 |  |
| 的Ubuntu | 14.04 | 可信赖的塔尔 | linux-3.13.0 |  | B，我，C |

#### FIREFLY（0.80.Z）

| 发行版 | 释放 | 代码名称 | 核心 | 笔记 | 测试中 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| CentOS的 | 6 | 不适用 | linux-2.6.32 | 一二 | B，我 |
| CentOS的 | 7 | 不适用 | linux-3.10.0 |  | 乙 |
| 德比安 | 7.0 | ee | linux-3.2.0 | 一二 | 乙 |
| 软呢帽 | 19 | 薛定ding的猫 | linux-3.10.0 |  | 乙 |
| 软呢帽 | 20 | 海森堡 | linux-3.14.0 |  | 乙 |
| RHEL | 6 | 圣地亚哥 | linux-2.6.32 | 一二 | B，我，C |
| RHEL | 7 | 迈坡 | linux-3.10.0 |  | B，我，C |
| 的Ubuntu | 12.04 | 精确的穿山甲 | linux-3.2.0 | 一二 | B，我，C |
| 的Ubuntu | 14.04 | 可信赖的塔尔 | linux-3.13.0 |  | B，我，C |

#### 注释

* **1**：默认内核具有较旧的版本`btrfs`，我们不建议将其用于`ceph-osd`存储节点。我们建议使用`XFS`。
* **2**：默认内核具有旧的Ceph客户端，我们不建议将其用于内核客户端（内核RBD或Ceph文件系统）。升级到推荐的内核。
* **3**：`btrfs` 使用文件系统时，默认内核通常会在质量检查中失败。我们不建议将其`btrfs`用于备份Ceph OSD。

#### 测试

* **B**：我们为此平台构建发行包。对于其中一些平台，我们还可能会不断构建所有ceph分支并进行基本的单元测试。
* **I**：我们对该平台上的发行版进行基本的安装和功能测试。
* **C**：我们在该平台上连续运行一个综合的功能，回归和压力测试套件。这包括开发分支，预发布和发布的代码。

